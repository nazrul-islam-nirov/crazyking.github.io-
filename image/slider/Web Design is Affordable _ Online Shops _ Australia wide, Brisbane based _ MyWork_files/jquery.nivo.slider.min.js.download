(function(c){var B=function(n,s){var a=c.extend({},c.fn.nivoSlider.defaults,s),f={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1},g=c(n),q=c("#slider");g.data("nivo:vars",f);g.css("position","relative");g.addClass("nivoSlider");var j=g.children();j.each(function(){var b=c(this),a="";b.is("img")||(b.is("a")&&(b.addClass("nivo-imageLink"),a=b),b=b.find("img:first"));var e=b.width();0==e&&(e=b.attr("width"));var v=b.height();0==v&&(v=b.attr("height"));e>g.width()&&g.width(e); v>g.height()&&g.height(v);""!=a&&a.css("display","none");b.css("display","none");f.totalSlides++});a.randomStart&&(a.startSlide=Math.floor(Math.random()*f.totalSlides));0<a.startSlide&&(a.startSlide>=f.totalSlides&&(a.startSlide=f.totalSlides-1),f.currentSlide=a.startSlide);f.currentImage=c(j[f.currentSlide]).is("img")?c(j[f.currentSlide]):c(j[f.currentSlide]).find("img:first");c(j[f.currentSlide]).is("a")&&c(j[f.currentSlide]).css("display","block");g.css("background",'url("'+f.currentImage.attr("src")+ '") no-repeat');g.append(c('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:a.captionOpacity}));c(".nivo-caption",g).css("opacity",0);var x=function(b){var a=c(".nivo-caption",g);if(""!=f.currentImage.attr("title")&&void 0!=f.currentImage.attr("title")){var e=f.currentImage.attr("title");"#"==e.substr(0,1)&&(e=c(e).html());0!=a.css("opacity")?a.find("p").stop().fadeTo(b.animSpeed,0,function(){c(this).html(e);c(this).stop().fadeTo(b.animSpeed,1)}):a.find("p").html(e);a.stop().fadeTo(b.animSpeed, b.captionOpacity)}else a.stop().fadeTo(b.animSpeed,0)};x(a);var l=0;!a.manualAdvance&&1<j.length&&(l=setInterval(function(){p(g,j,a,!1)},a.pauseTime));a.directionNav&&(q.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+a.prevText+'</a><a class="nivo-nextNav">'+a.nextText+"</a></div>"),a.directionNavHide&&(c(".nivo-directionNav",q).hide(),q.hover(function(){c(".nivo-directionNav",q).show()},function(){c(".nivo-directionNav",q).hide()})),c("a.nivo-prevNav",q).live("click",function(){if(f.running)return!1; clearInterval(l);l="";f.currentSlide-=2;p(g,j,a,"prev")}),c("a.nivo-nextNav",q).live("click",function(){if(f.running)return!1;clearInterval(l);l="";p(g,j,a,"next")}));if(a.controlNav){var w=c('<div class="nivo-controlNav"></div>');q.append(w);for(var r=0;r<j.length;r++)if(a.controlNavThumbs){var t=j.eq(r);t.is("img")||(t=t.find("img:first"));a.controlNavThumbsFromRel?w.append('<a class="nivo-control" rel="'+r+'"><img src="'+t.attr("rel")+'" alt="" /></a>'):w.append('<a class="nivo-control" rel="'+ r+'"><img src="'+t.attr("src").replace(a.controlNavThumbsSearch,a.controlNavThumbsReplace)+'" alt="" /></a>')}else w.append('<a class="nivo-control" rel="'+r+'">'+(r+1)+"</a>");c(".nivo-controlNav a:eq("+f.currentSlide+")",q).addClass("active");c(".nivo-controlNav a",q).live("click",function(){if(f.running||c(this).hasClass("active"))return!1;var b=c(this).attr("rel"),A=c(".nivo-control").filter(".active").attr("rel");clearInterval(l);l="";g.css("background",'url("'+f.currentImage.attr("src")+'") no-repeat'); f.currentSlide=c(this).attr("rel")-1;a.effect=b>A?"wipeLeft":"wipeRight";p(g,j,a,"control")})}a.keyboardNav&&c(window).keypress(function(b){if("37"==b.keyCode){if(f.running)return!1;clearInterval(l);l="";f.currentSlide-=2;p(g,j,a,"prev")}if("39"==b.keyCode){if(f.running)return!1;clearInterval(l);l="";p(g,j,a,"next")}});a.pauseOnHover&&(g.hover(function(){f.paused=!0;clearInterval(l);l=""},function(){f.paused=!1;""==l&&!a.manualAdvance&&(l=setInterval(function(){p(g,j,a,!1)},a.pauseTime))}),c("#slider").hover(function(){f.paused= !0;clearInterval(l);l=""},function(){f.paused=!1;""==l&&!a.manualAdvance&&(l=setInterval(function(){p(g,j,a,!1)},a.pauseTime))}));g.bind("nivo:animFinished",function(){f.running=!1;c(j).each(function(){c(this).is("a")&&c(this).css("display","none")});c(j[f.currentSlide]).is("a")&&c(j[f.currentSlide]).css("display","block");""==l&&(!f.paused&&!a.manualAdvance)&&(l=setInterval(function(){p(g,j,a,!1)},a.pauseTime));a.afterChange.call(this)});var u=function(b,a,e){for(var f=0;f<a.slices;f++){var d=Math.round(b.width()/ a.slices);f==a.slices-1?b.append(c('<div class="nivo-slice"></div>').css({left:d*f+"px",width:b.width()-d*f+"px",height:"0px",opacity:"0",background:'url("'+e.currentImage.attr("src")+'") no-repeat -'+(d+f*d-d)+"px 0%"})):b.append(c('<div class="nivo-slice"></div>').css({left:d*f+"px",width:d+"px",height:"0px",opacity:"0",background:'url("'+e.currentImage.attr("src")+'") no-repeat -'+(d+f*d-d)+"px 0%"}))}},y=function(b,a,e){for(var f=Math.round(b.width()/a.boxCols),d=Math.round(b.height()/a.boxRows), k=0;k<a.boxRows;k++)for(var h=0;h<a.boxCols;h++)h==a.boxCols-1?b.append(c('<div class="nivo-box"></div>').css({opacity:0,left:f*h+"px",top:d*k+"px",width:b.width()-f*h+"px",height:d+"px",background:'url("'+e.currentImage.attr("src")+'") no-repeat -'+(f+h*f-f)+"px -"+(d+k*d-d)+"px"})):b.append(c('<div class="nivo-box"></div>').css({opacity:0,left:f*h+"px",top:d*k+"px",width:f+"px",height:d+"px",background:'url("'+e.currentImage.attr("src")+'") no-repeat -'+(f+h*f-f)+"px -"+(d+k*d-d)+"px"}))},p=function(b, a,e,f){var d=b.data("nivo:vars");d&&d.currentSlide==d.totalSlides-1&&e.lastSlide.call(this);if((!d||d.stop)&&!f)return!1;e.beforeChange.call(this);f?("prev"==f&&b.css("background",'url("'+d.currentImage.attr("src")+'") no-repeat'),"next"==f&&b.css("background",'url("'+d.currentImage.attr("src")+'") no-repeat')):b.css("background",'url("'+d.currentImage.attr("src")+'") no-repeat');d.currentSlide++;d.currentSlide==d.totalSlides&&(d.currentSlide=0,e.slideshowEnd.call(this));0>d.currentSlide&&(d.currentSlide= d.totalSlides-1);d.currentImage=c(a[d.currentSlide]).is("img")?c(a[d.currentSlide]):c(a[d.currentSlide]).find("img:first");e.controlNav&&(c(".nivo-controlNav a",q).removeClass("active"),c(".nivo-controlNav a:eq("+d.currentSlide+")",q).addClass("active"));x(e);c(".nivo-slice",b).remove();c(".nivo-box",b).remove();var k=e.effect;"random"==e.effect&&(a="sliceDownRight sliceDownLeft sliceUpRight sliceUpLeft sliceUpDown sliceUpDownLeft fold fade boxRandom boxRain boxRainReverse boxRainGrow boxRainGrowReverse".split(" "), k=a[Math.floor(Math.random()*(a.length+1))],void 0==k&&(k="fade"));-1!=e.effect.indexOf(",")&&(a=e.effect.split(","),k=a[Math.floor(Math.random()*a.length)],void 0==k&&(k="fade"));d.currentImage.attr("data-transition")&&(k=d.currentImage.attr("data-transition"));d.running=!0;if("sliceDown"==k||"sliceDownRight"==k||"sliceDownLeft"==k){u(b,e,d);var h=0,g=0,j=c(".nivo-slice",b);"sliceDownLeft"==k&&(j=c(".nivo-slice",b)._reverse());j.each(function(){var a=c(this);a.css({top:"0px"});g==e.slices-1?setTimeout(function(){a.animate({height:"100%", opacity:"1.0"},e.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+h):setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},e.animSpeed)},100+h);h+=50;g++})}else if("sliceUp"==k||"sliceUpRight"==k||"sliceUpLeft"==k)u(b,e,d),g=h=0,j=c(".nivo-slice",b),"sliceUpLeft"==k&&(j=c(".nivo-slice",b)._reverse()),j.each(function(){var a=c(this);a.css({bottom:"0px"});g==e.slices-1?setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},e.animSpeed,"",function(){b.trigger("nivo:animFinished")})}, 100+h):setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},e.animSpeed)},100+h);h+=50;g++});else if("sliceUpDown"==k||"sliceUpDownRight"==k||"sliceUpDownLeft"==k){u(b,e,d);var l=g=h=0,j=c(".nivo-slice",b);"sliceUpDownLeft"==k&&(j=c(".nivo-slice",b)._reverse());j.each(function(){var a=c(this);0==g?(a.css("top","0px"),g++):(a.css("bottom","0px"),g=0);l==e.slices-1?setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},e.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+ h):setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},e.animSpeed)},100+h);h+=50;l++})}else if("fold"==k)u(b,e,d),g=h=0,c(".nivo-slice",b).each(function(){var a=c(this),d=a.width();a.css({top:"0px",height:"100%",width:"0px"});g==e.slices-1?setTimeout(function(){a.animate({width:d,opacity:"1.0"},e.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+h):setTimeout(function(){a.animate({width:d,opacity:"1.0"},e.animSpeed)},100+h);h+=50;g++});else if("fade"==k){u(b,e,d);var m=c(".nivo-slice:first", b);m.css({height:"100%",width:b.width()+"px"});m.animate({opacity:"1.0"},2*e.animSpeed,"",function(){b.trigger("nivo:animFinished")})}else if("slideInRight"==k)u(b,e,d),m=c(".nivo-slice:first",b),m.css({height:"100%",width:"0px",opacity:"1"}),m.animate({width:b.width()+"px"},2*e.animSpeed,"",function(){b.trigger("nivo:animFinished")});else if("slideInLeft"==k)u(b,e,d),m=c(".nivo-slice:first",b),m.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"}),m.animate({width:b.width()+"px"},2*e.animSpeed, "",function(){m.css({left:"0px",right:""});b.trigger("nivo:animFinished")});else if("wipeLeft"==k)u(b,e,d),m=c(".nivo-slice:first",b),m.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"}),m.animate({width:b.width()+"px"},2*e.animSpeed,"easeInOutExpo",function(){m.css({left:"0px",right:""});b.trigger("nivo:animFinished")}),b.animate({"background-position":"-"+b.width()+"px"},2*e.animSpeed,"easeInOutExpo");else if("wipeRight"==k)u(b,e,d),m=c(".nivo-slice:first",b),m.css({height:"100%", width:"0px",opacity:"1","margin-left":"-1000px"}),m.animate({"margin-left":"0px",width:b.width()+"px"},2*e.animSpeed,"easeInOutExpo",function(){m.css({});b.trigger("nivo:animFinished")}),b.animate({"background-position":"+"+b.width()+"px"},2*e.animSpeed,"easeInOutExpo"),e.effect="wipeLeft";else if("boxRandom"==k){y(b,e,d);var p=e.boxCols*e.boxRows,h=g=0,d=c(".nivo-box",b),n;for(a=d.length;a;j=parseInt(Math.random()*a),n=d[--a],d[a]=d[j],d[j]=n);d.each(function(){var a=c(this);g==p-1?setTimeout(function(){a.animate({opacity:"1"}, e.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+h):setTimeout(function(){a.animate({opacity:"1"},e.animSpeed)},100+h);h+=20;g++})}else if("boxRain"==k||"boxRainReverse"==k||"boxRainGrow"==k||"boxRainGrowReverse"==k){y(b,e,d);var p=e.boxCols*e.boxRows,r=h=g=0,s=0,t=[];t[r]=[];j=c(".nivo-box",b);if("boxRainReverse"==k||"boxRainGrowReverse"==k)j=c(".nivo-box",b)._reverse();j.each(function(){t[r][s]=c(this);s++;s==e.boxCols&&(r++,s=0,t[r]=[])});for(j=0;j<2*e.boxCols;j++){n=j;for(d=0;d< e.boxRows;d++)0<=n&&n<e.boxCols&&(function(a,d,f,g,j){var h=c(t[a][d]),l=h.width(),m=h.height();("boxRainGrow"==k||"boxRainGrowReverse"==k)&&h.width(0).height(0);g==j-1?setTimeout(function(){h.animate({opacity:"1",width:l,height:m},e.animSpeed/1.3,"",function(){b.trigger("nivo:animFinished")})},100+f):setTimeout(function(){h.animate({opacity:"1",width:l,height:m},e.animSpeed/1.3)},100+f)}(d,n,h,g,p),g++),n--;h+=100}}},z=function(a){this.console&&"undefined"!=typeof console.log&&console.log(a)};this.stop= function(){c(n).data("nivo:vars").stop||(c(n).data("nivo:vars").stop=!0,z("Stop Slider"))};this.start=function(){c(n).data("nivo:vars").stop&&(c(n).data("nivo:vars").stop=!1,z("Start Slider"))};a.afterLoad.call(this);return this};c.fn.nivoSlider=function(n){return this.each(function(){var s=c(this);if(s.data("nivoslider"))return s.data("nivoslider");var a=new B(this,n);s.data("nivoslider",a)})};c.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3E3,startSlide:0, directionNav:!0,directionNavHide:!1,controlNav:!0,controlNavThumbs:!0,controlNavThumbsFromRel:!0,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:!0,pauseOnHover:!0,manualAdvance:!1,captionOpacity:0.8,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};c.fn._reverse=[].reverse})(jQuery);